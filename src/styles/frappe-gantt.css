:root {
    --g-arrow-color: #1f2937;
    --g-bar-color: #fff;
    --g-bar-border: #fff;
    --g-tick-color-thick: #ededed;
    --g-tick-color: #f3f3f3;
    --g-actions-background: #f3f3f3;
    --g-border-color: #ebeff2;
    --g-text-muted: #7c7c7c;
    --g-text-light: #fff;
    --g-text-dark: #171717;
    --g-progress-color: #94ea95;
    --g-handle-color: #37352f;
    --g-weekend-label-color: #dcdce4;
    --g-expected-progress: #c4c4e9;
    --g-header-background: #fff;
    --g-row-color: #fdfdfd;
    --g-row-border-color: #c7c7c7;
    --g-today-highlight: #37352f;
    --g-popup-actions: #ebeff2;
    --g-weekend-highlight-color: #f7f7f7;
}

/* Estados */
.status-Nuevo .bar { fill: #ffcdd2; }
.status-Nuevo .bar-progress { fill: #e57373; }

.status-EnCurso .bar { fill: #fff9c4; }
.status-EnCurso .bar-progress { fill: #ffeb3b; }

.status-EnProgreso .bar { fill: #fff9c4; }
.status-EnProgreso .bar-progress { fill: #ffeb3b; }

.status-Hecho .bar { fill: #c8e6c9; }
.status-Hecho .bar-progress { fill: #4caf50; }

/* Etapas */
.etapa-CambioDeAlcance .bar { stroke: #FF9800; }
.etapa-ImpactoEnInicio .bar { stroke: #F44336; }
.etapa-Ajustes .bar { stroke: #2196F3; }
.etapa-SinRequerimiento .bar { stroke: #9E9E9E; }
.etapa-SinEstimar .bar { stroke: #EEEEEE; }
.etapa-EnPausa .bar { stroke: #FFEB3B; }
.etapa-InicioDeDesarrollo .bar { stroke: #4CAF50; }

/* Override de colores con variables */
:root {
  --status-Nuevo-bar:        #ffcdd2;
  --status-Nuevo-progress:   #e57373;
  --status-EnCurso-bar:      #fff9c4;
  --status-EnCurso-progress: #ffeb3b;
  --status-EnProgreso-bar:      #fff9c4;
  --status-EnProgreso-progress: #ffeb3b;
  --status-Hecho-bar:        #c8e6c9;
  --status-Hecho-progress:   #4caf50;

  --etapa-CambioDeAlcance-stroke:   #FF9800;
  --etapa-ImpactoEnInicio-stroke:   #F44336;
  --etapa-Ajustes-stroke:           #2196F3;
}

/* Aplicación de variables */
.gantt .bar-wrapper.status-Nuevo .bar { fill: var(--status-Nuevo-bar) !important; }
.gantt .bar-wrapper.status-Nuevo .bar-progress { fill: var(--status-Nuevo-progress) !important; }

.gantt .bar-wrapper.status-EnCurso .bar { fill: var(--status-EnCurso-bar) !important; }
.gantt .bar-wrapper.status-EnCurso .bar-progress { fill: var(--status-EnCurso-progress) !important; }

.gantt .bar-wrapper.etapa-CambioDeAlcance .bar { stroke: var(--etapa-CambioDeAlcance-stroke) !important; }
/* ...etc para las demás etapas */

/* Contenedor principal */
.gantt-container {
    position: relative;
    overflow: auto;
    line-height: 14.5px;
    font-size: 12px;
    height: var(--gv-grid-height);
    width: 100%;
    border-radius: 8px;
}

/* Tooltip (popup) */
.gantt-container .popup-wrapper {
    display: none;               /* oculto por defecto */
    position: absolute;
    background: #fff;
    box-shadow: 0 10px 24px -3px #0003;
    padding: 10px;
    border-radius: 5px;
    width: max-content;
    z-index: 1000;
}

/* Título, subtítulo, detalles dentro del popup */
.gantt-container .popup-wrapper .title {
    margin-bottom: 2px;
    color: var(--g-text-dark);
    font-size: .85rem;
    font-weight: 650;
    line-height: 15px;
}
.gantt-container .popup-wrapper .subtitle {
    color: var(--g-text-dark);
    font-size: .8rem;
    margin-bottom: 5px;
}
.gantt-container .popup-wrapper .details {
    color: var(--g-text-muted);
    font-size: .7rem;
}

/* Botones de acción dentro del popup */
.gantt-container .popup-wrapper .action-btn {
    border: none;
    padding: 5px 8px;
    background-color: var(--g-popup-actions);
    border-right: 1px solid var(--g-text-light);
}
.gantt-container .popup-wrapper .action-btn:hover {
    filter: brightness(97%);
}
.gantt-container .popup-wrapper .action-btn:first-child {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}
.gantt-container .popup-wrapper .action-btn:last-child {
    border-right: none;
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}

/* Grid, headers, texto */
.gantt-container .grid-header { /* ... */ }
.gantt-container .upper-header { /* ... */ }
.gantt-container .lower-header { /* ... */ }
/* (mantén tus reglas existentes para grid, text, etc.) */

/* Destacado de rango */
.gantt-container .date-range-highlight {
    display: none;              /* oculto por defecto */
    background-color: var(--g-progress-color);
    border-radius: 4px;
    height: calc(var(--gv-lower-header-height) - 6px);
    top: calc(var(--gv-upper-header-height) + 5px);
    position: absolute;
}

/* Al hacer hover sobre la barra */
.gantt-container .bar-wrapper:hover .date-range-highlight {
    display: block;
}
/* y ahora también el popup */
.gantt-container .bar-wrapper:hover .popup-wrapper {
    display: block;
}
